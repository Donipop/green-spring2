<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//Dli Mapper 3.0//EN"
        "http://mybatis.org/dli/mybatis-3-mapper.dtd">

<mapper namespace="User">
    <select id="selectAll"
            resultType="com.green.vo.UserVo">
        SELECT * from user_tb
    </select>

    <insert id="insertUser"
            parameterType="com.green.vo.UserVo">
        INSERT INTO user_tb (_id, username, userpassword, usernickname)
                    VALUES (#{_id},#{username}, #{userpassword}, #{usernickname})
    </insert>

    <select id="usernameCheck"
            resultType="Integer">
        SELECT count(*)
        FROM   user_tb
        WHERE  username = #{username}
    </select>

    <select id="nicknameCheck"
            resultType="Integer">
        SELECT count(*)
        FROM   user_tb
        WHERE  usernickname = #{usernickname}
    </select>


    <select id="successLogin"
            resultType="com.green.vo.UserVo">
        SELECT username, userpassword
        FROM   user_tb
        WHERE  username = #{username} AND userpassword = #{userpassword}

    </select>

    <select id="loginPasswordCheck"
            resultType="String">
        SELECT userpassword
        FROM   user_tb
        WHERE  username = #{username}

    </select>

    <insert id="insertInfo"
            parameterType="com.green.vo.UserVo">
        INSERT INTO user_tb (_id, username, userpassword, usernickname, useremail, usersido, usergugun, userpet)
        VALUES (#{_id}, #{username}, #{userpassword}, #{usernickname}, #{useremail}, #{usersido}, #{usergugun}, #{userpet})

    </insert>

    <select id="selectUserInfoByUsername"
            resultType="com.green.vo.UserVo">
        SELECT _id, username, userpassword, usernickname
        FROM   user_tb
        WHERE  username = #{username}

    </select>

    <select id="findId"
            resultType="String">
        SELECT username
        FROM   user_tb
        WHERE  useremail = #{useremail}

    </select>



</mapper>
